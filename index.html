<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMaster - Advanced To-Do App</title>
    <link rel="stylesheet" href="todo-styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">‚úì</span>
                    <h1>TaskMaster</h1>
                </div>
                <div class="header-stats">
                    <div class="stat-badge">
                        <span class="stat-label">Total Tasks</span>
                        <span class="stat-value" id="totalTasks">0</span>
                    </div>
                    <div class="stat-badge">
                        <span class="stat-label">Completed</span>
                        <span class="stat-value" id="completedTasks">0</span>
                    </div>
                    <div class="stat-badge">
                        <span class="stat-label">Pending</span>
                        <span class="stat-value" id="pendingTasks">0</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>üìã Lists</h3>
                    <div class="list-items" id="listItems">
                        <div class="list-item active" data-list="all" onclick="filterByList('all')">
                            <span class="list-icon">üìù</span>
                            <span class="list-name">All Tasks</span>
                            <span class="list-count" id="countAll">0</span>
                        </div>
                        <div class="list-item" data-list="today" onclick="filterByList('today')">
                            <span class="list-icon">üìÖ</span>
                            <span class="list-name">Today</span>
                            <span class="list-count" id="countToday">0</span>
                        </div>
                        <div class="list-item" data-list="upcoming" onclick="filterByList('upcoming')">
                            <span class="list-icon">üîú</span>
                            <span class="list-name">Upcoming</span>
                            <span class="list-count" id="countUpcoming">0</span>
                        </div>
                        <div class="list-item" data-list="completed" onclick="filterByList('completed')">
                            <span class="list-icon">‚úÖ</span>
                            <span class="list-name">Completed</span>
                            <span class="list-count" id="countCompleted">0</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>üè∑Ô∏è Categories</h3>
                    <div class="category-items" id="categoryItems">
                        <div class="category-item" data-category="work" onclick="filterByCategory('work')">
                            <span class="category-dot" style="background: #3b82f6;"></span>
                            <span class="category-name">Work</span>
                            <span class="category-count" id="countWork">0</span>
                        </div>
                        <div class="category-item" data-category="personal" onclick="filterByCategory('personal')">
                            <span class="category-dot" style="background: #10b981;"></span>
                            <span class="category-name">Personal</span>
                            <span class="category-count" id="countPersonal">0</span>
                        </div>
                        <div class="category-item" data-category="shopping" onclick="filterByCategory('shopping')">
                            <span class="category-dot" style="background: #f59e0b;"></span>
                            <span class="category-name">Shopping</span>
                            <span class="category-count" id="countShopping">0</span>
                        </div>
                        <div class="category-item" data-category="health" onclick="filterByCategory('health')">
                            <span class="category-dot" style="background: #ef4444;"></span>
                            <span class="category-name">Health</span>
                            <span class="category-count" id="countHealth">0</span>
                        </div>
                    </div>
                    <button class="add-category-btn" onclick="showAddCategoryModal()">
                        + Add Category
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3>‚öôÔ∏è Actions</h3>
                    <button class="action-btn" onclick="clearCompleted()">
                        üóëÔ∏è Clear Completed
                    </button>
                    <button class="action-btn" onclick="exportTasks()">
                        üì§ Export Tasks
                    </button>
                    <button class="action-btn" onclick="toggleTheme()">
                        <span id="themeIcon">üåô</span> Toggle Theme
                    </button>
                </div>
            </aside>

            <!-- Tasks Area -->
            <section class="tasks-area">
                <!-- Add Task Form -->
                <div class="add-task-container">
                    <div class="add-task-form">
                        <input 
                            type="text" 
                            id="taskInput" 
                            class="task-input" 
                            placeholder="Add a new task..."
                            onkeypress="handleTaskInputKeypress(event)"
                        >
                        <button class="add-task-btn" onclick="addTask()">
                            <span class="btn-icon">+</span>
                            <span class="btn-text">Add Task</span>
                        </button>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="showAdvancedAdd()">
                            <span>‚ö°</span> Advanced Add
                        </button>
                        <select id="sortSelect" class="sort-select" onchange="sortTasks()">
                            <option value="date">Sort by Date</option>
                            <option value="priority">Sort by Priority</option>
                            <option value="name">Sort by Name</option>
                            <option value="status">Sort by Status</option>
                        </select>
                        <select id="filterPriority" class="filter-select" onchange="filterTasks()">
                            <option value="all">All Priorities</option>
                            <option value="high">High Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="low">Low Priority</option>
                        </select>
                    </div>
                </div>

                <!-- Current Filter Display -->
                <div class="filter-display" id="filterDisplay">
                    <h2 id="currentViewTitle">All Tasks</h2>
                    <p id="currentViewDesc">Showing all your tasks</p>
                </div>

                <!-- Tasks List -->
                <div class="tasks-list" id="tasksList">
                    <!-- Tasks will be dynamically added here -->
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="emptyState">
                    <div class="empty-icon">üìù</div>
                    <h3>No tasks yet!</h3>
                    <p>Create your first task to get started</p>
                </div>
            </section>
        </main>

        <!-- Advanced Add Modal -->
        <div class="modal" id="advancedAddModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Add New Task</h2>
                    <button class="modal-close" onclick="closeAdvancedAdd()">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="advTaskTitle">Task Title *</label>
                        <input type="text" id="advTaskTitle" class="form-input" placeholder="Enter task title">
                    </div>
                    
                    <div class="form-group">
                        <label for="advTaskDesc">Description</label>
                        <textarea id="advTaskDesc" class="form-textarea" placeholder="Add task description" rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="advTaskDate">Due Date</label>
                            <input type="date" id="advTaskDate" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="advTaskTime">Time</label>
                            <input type="time" id="advTaskTime" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="advTaskCategory">Category</label>
                            <select id="advTaskCategory" class="form-select">
                                <option value="work">Work</option>
                                <option value="personal">Personal</option>
                                <option value="shopping">Shopping</option>
                                <option value="health">Health</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="advTaskPriority">Priority</label>
                            <select id="advTaskPriority" class="form-select">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeAdvancedAdd()">Cancel</button>
                    <button class="btn-primary" onclick="addAdvancedTask()">Add Task</button>
                </div>
            </div>
        </div>

        <!-- Edit Task Modal -->
        <div class="modal" id="editTaskModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Task</h2>
                    <button class="modal-close" onclick="closeEditModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editTaskTitle">Task Title *</label>
                        <input type="text" id="editTaskTitle" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label for="editTaskDesc">Description</label>
                        <textarea id="editTaskDesc" class="form-textarea" rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editTaskDate">Due Date</label>
                            <input type="date" id="editTaskDate" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="editTaskTime">Time</label>
                            <input type="time" id="editTaskTime" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editTaskCategory">Category</label>
                            <select id="editTaskCategory" class="form-select">
                                <option value="work">Work</option>
                                <option value="personal">Personal</option>
                                <option value="shopping">Shopping</option>
                                <option value="health">Health</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editTaskPriority">Priority</label>
                            <select id="editTaskPriority" class="form-select">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeEditModal()">Cancel</button>
                    <button class="btn-primary" onclick="saveEditedTask()">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <span id="toastMessage"></span>
        </div>
    </div>

    <script src="todo-script.js"></script>
</body>
</html>